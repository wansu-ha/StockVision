# 서브에이전트 & 페르소나 운영 규칙

## 서브에이전트 모델 배정

- **기본값은 haiku** — 명시적으로 높은 추론이 필요할 때만 상위 모델
- 탐색/파일 검색, spec/plan 초안, 테스트/빌드 실행 → haiku
- 코드 구현 → sonnet
- 수학적/논리적 검증, 아키텍처 리뷰 → opus

## 팀원 프롬프트 필수 사항

- "완료 체크리스트" 포함 (디버그 코드 제거, build 확인)
- 결과를 `docs/research/{이름}-result.md`에 파일로 저장 후 SendMessage (컨텍스트 압축 유실 방지)

## 페르소나 역할극

- 비용 큰 결정(방향, 알고리즘, 아키텍처)에만 사용
- 버그 수정, 파라미터 조정, 시각적 판단에는 사용 금지
- 캐릭터 3~5명, 최소 1명 반대 관점 의무
- **탈출 조건**: 2라운드 수렴 안 되면 구현해서 확인
- 상세: `memory/persona-methodology.md` 참고
